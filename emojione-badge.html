<link rel="import" href="../iron-fit-behavior/iron-fit-behavior.html">

<dom-module id="emojione-badge">
  <template strip-whitespace>
    <custom-style>
      <style>
        :host {
          max-height: 48px !important;
          padding: 8px;
          border-radius: 4px;
          background-color: rgba(0, 0, 0, .8);
          color: #fff;
          text-align: center;
          z-index: 1;
        }

      </style>
    </custom-style>

    <slot></slot>
  </template>
  <script>
    class EmojioneBadge extends Polymer.mixinBehaviors([Polymer.IronFitBehavior], Polymer.Element) {

      static get is() {
        return 'emojione-badge';
      }

      static get observers() {
        return ['onPositionTargetChange(positionTarget, fitInto)'];
      }

      onPositionTargetChange(positionTarget, fitInto) {
        if (positionTarget && fitInto) {
          this.horizontalAlign = 'right';
          this.horizontalOffset = '15';
          this.verticalAlign = 'bottom';
          this.verticalOffset = '-50';
          window.setTimeout(() => {
            this.position();
          });
        }
      }
    }

    window.customElements.define(EmojioneBadge.is, EmojioneBadge);
  </script>
</dom-module>